[
 {
  "file": "/Users/dineshkumardhanekula/Downloads/tejesh143-recipe-madness-164b1d439b39/RecipeMadness/DBmanager.swift",
  "offset": 673,
  "remove": 3398,
  "text": "! Recipe\n        \n        //Updating recipe name, image and procedure\n        recipe.name = name\n        recipe.image = image\n        recipe.procedure = procedure\n        recipe.numServes = numServes\n        \n        //Creating each recipe ingredient record\n        for ingredient in ingredients\n        {\n            recipe.addIngredient(ingredient.ingredient, quantity: ingredient.qty)\n        }\n        \n        //Saving the recipe\n        return save(context)\n    }\n    \n    class func addMealPlan(,#date: NSDate, timing:String, numServes: Int, recipes: [Recipe]) -> Bool\n    {\n        //Fetching managed object context\n        let context = (UIApplication.sharedApplication().delegate as! AppDelegate).managedObjectContext!\n        \n        //Creating a new meal calendar record\n        let mealPlan = NSEntityDescription.insertNewObjectForEntityForName(\"MealCalendar\", inManagedObjectContext: context) as! MealCalendar\n        \n        //Updating the new meal plan\n        mealPlan.date = date\n        mealPlan.timing = timing\n        mealPlan.numServes = numServes\n        mealPlan.recipes = NSSet(array: recipes)\n        \n        return mealPlan.updateRecipes(recipes)\n    }\n    \n    class func updateRecipe(,#name: String, newRecipe: Recipe) -> Bool\n    {\n        //Fetching managed object context\n        let context = (UIApplication.sharedApplication().delegate as! AppDelegate).managedObjectContext!\n        \n        //Creating the fetch request\n        let request = NSFetchRequest(entityName: \"Recipe\")\n        \n        //Configure the fecthc request with predicates\n        request.predicate = NSPredicate(format: \"name ==[c] %@\", name)\n        \n        //Processing the request on core data\n        if let recipe = context.executeFetchRequest(request, error: nil) as? [Recipe]\n        {\n            //Return the ingredent, if exits\n            if(recipe.count > 0)\n            {\n                recipe[0].procedure = newRecipe.procedure\n                recipe[0].image = newRecipe.image\n                \n                save(context)\n                return true\n            }\n        }\n        \n        return false\n    }\n    \n    class func AddIfDistinctIngredient(,#name: String, units: String) -> Ingredient!\n    {\n        //Fetching managed object context\n        let context = (UIApplication.sharedApplication().delegate as! AppDelegate).managedObjectContext!\n        \n        //Creating the fetch request\n        let request = NSFetchRequest(entityName: \"Ingredient\")\n        \n        let predicate1 = NSPredicate(format: \"name ==[c] %@\", name.capitalizedString)\n        let predicate2 = NSPredicate(format: \"units ==[c] %@\", units.capitalizedString)\n        \n        //Configure the fecthc request with predicates\n        request.predicate = NSCompoundPredicate(type: NSCompoundPredicateType.AndPredicateType, subpredicates: [predicate1!, predicate2!])\n        \n        //Processing the request on core data\n        if let ingredients = context.executeFetchRequest(request, error: nil) as? [Ingredient]\n        {\n            //Return the ingredent, if exits\n            if(ingredients.count > 0)\n            {\n                return ingredients[0]\n            }\n            else //Insert new record, if ingredient does not exist\n            {\n                let ingredient = NSEntityDescription.insertNewObjectForEntityForName(\"Ingredient\", inManagedObjectContext: context) as!",
 }
]
